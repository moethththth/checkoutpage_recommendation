"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34648],{3075:function(e,t,n){var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.XMEDIA_FORMAT_TYPES=void 0,t.buildXmediaUrl=A,t.getBestImageUrl=P,t.getVideoSource=S,t.getVirtualWidth=D,t.getWatermarkUrl=function(e){if(!e)return null;const t=function(e,t){const n=function(e,t){if(i.default.xmediaTransformations&&i.default.xmediaTransformations.length&&e.transformations&&e.transformations.length){const n=i.default.xmediaTransformations.find((n=>e.transformations.indexOf(n.name)>-1&&n.type===t));return n&&n.meta.xmedia||[]}return[]}(e,t);let r=n.find((t=>t.kind===e.kind));r||(r=n.find((e=>"other"===e.kind)));return r}(e,"watermark"),n=E.find((e=>"svg"===e.codecs));if(t&&n)return A(t,n,null,!0);return null},t.getXmediaBaseUrl=void 0,t.loadVideo=function(e,t,r,o){const a=t.offsetWidth,i=D(a),c=P(l(l({},e),{type:"image"}),a);if(e.type!==m)r(c,S(e,i));else{if(!_[m])return r(c);const a=M(_[m],i),l=e.hlsUrl||A(e,a,null,!0);if(function(){const e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!r}())n.e(67631).then(n.t.bind(n,67631,23)).then((n=>{let{default:a}=n;const s=new a({autoStartLoad:!0,capLevelToPlayerSize:!0});s.on(a.Events.MANIFEST_PARSED,(function(e,t){let n=0;for(let e=0;e<t.levels.length&&(n=e,!(t.levels[e].width>i));e++);s.autoLevelCapping=n,r(c,null,s)})),s.once(a.Events.ERROR,(()=>{e.hlsUrl||(s.destroy(),r(c,S(e,i)))})),s.on(a.Events.SUBTITLE_TRACKS_UPDATED,(()=>{const e=k(s.subtitleTracks);if(void 0!==e&&s.subtitleTracks.map((t=>{t.default=e===t.id})),o){const e=s.subtitleTracks.reduce(((e,t)=>[...e,...t.forced?[]:[{id:t.id,langCode:t.lang,langName:t.name,active:t.default}]]),[]);o(e,(e=>{s.subtitleTrack=e}))}})),s.loadSource(l),s.attachMedia(t)}));else if("probably"===(s="hls",d=document.createElement("video"),u={ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'},d.canPlayType(u[s]||s))){const e=e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(((e,t)=>({id:t,langCode:e.language,langName:e.label,active:"showing"===e.mode,track:e})))}([...e.target]),n=k(t);if(void 0!==n&&t.forEach((e=>{e.track.mode=n===e.id?"showing":"disabled"})),o){const e=e=>{if(t.forEach((e=>{e.track.mode="disabled"})),null!==e){var n;const r=null===(n=t.find((t=>t.id===e)))||void 0===n?void 0:n.track;r&&(r.mode="showing")}};o(t,e)}};t.textTracks.onaddtrack=e,t.textTracks.onchange=e,r(c,{type:"application/x-mpegURL",url:l})}else r(c,S(e,i))}var s,d,u},t.xmediaFormats=void 0;var o=r(n(59713)),a=n(58875),i=r(n(147)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(39788));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u="image",f="video",p="vector",m="hls",h="png",v="3dadvanced",g="spin360",y={SMALL:135,MEDIUM:560,LARGE:1024,EXTRALARGE:1920};function O(e){switch(e){case u:case p:case h:case v:case g:return i.default.imageBaseUrl;case f:case m:return i.default.videoBaseUrl}}const b={IMAGE_FORMAT:u,VIDEO_FORMAT:f,VECTOR_FORMAT:p,PNG_FORMAT:h,HLS_FORMAT:m,ADVANCED_3D_FORMAT:v,SPIN_360:g};t.XMEDIA_FORMAT_TYPES=b;t.getXmediaBaseUrl=e=>O(e);const w={[p]:["pdf"]};const E=i.default.xmediaFormats.sort(((e,t)=>e.width>t.width?1:-1));t.xmediaFormats=E;const _=E.reduce(((e,t)=>{var n;return e[t.type]=e[t.type]||{formats:[],cache:{}},(w[(n=t).type]||[]).includes(n.extension)||e[t.type].formats.push(t),e}),{}),T=()=>{const e=c.loadBandwidthConfig(),t=c.retrieve();let n=1;if(!c.isOk(t))return n;if(t.speedKbps>=e.threshold)return n;for(let r=.25;r<1;r+=.25)if(t.speedKbps<e.threshold*r){n=r;break}return n};function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.url)return e.url;const o="."+t.extension,a=n||t.width;let i;return e&&e.name?(i=~e.name.indexOf(".")?e.name.replace(/\d.$/,o):e.name.concat(o),r?"".concat(O(t.type),"/").concat(e.path,"/").concat(i,"?ts=").concat(e.timestamp):"".concat(O(t.type),"/").concat(e.path,"/w/").concat(a,"/").concat(i,"?ts=").concat(e.timestamp)):""}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.formats,o=e.cache[t],c="ceil"!==n.strategy&&a.canUseDOM&&zara&&zara.expApi&&~zara.expApi.activatedExperiments.indexOf("request-smaller-product-image");let s,d,u;if(o)return o;if(!c&&i.default.store.useXmediaRealWidth&&r.length)return e.cache[t]=l(l({},r[0]),{},{width:t}),e.cache[t];for(d=0,u=r.length;d<u;d++)if(s=r[d],s.width>=t)return e.cache[t]=r[c&&d?d-1:d],e.cache[t];return e.cache[t]=r[r.length-1],r[r.length-1]}function D(e,t){const n=T(),r=t&&t.forcedDevicePixelRatio||(a.canUseDOM?Math.min(devicePixelRatio||1,2):1);return Math.ceil(e*r*n)}function P(e,t,n){const r=e.type||u;let o;if(!e)return"";"string"==typeof t&&(t=y[t]||560),o=D(t,n);const a=M(_[r],o,n),i=a.type===p;return A(e,a,a.width,i)}function S(e,t){const n=M(_[f],t);return{url:A(e,n),type:"video/".concat(n.extension)}}const k=function(){var e;return null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>e.lang===i.default.langCode||e.langCode===i.default.langCode)))||void 0===e?void 0:e.id}}}]);