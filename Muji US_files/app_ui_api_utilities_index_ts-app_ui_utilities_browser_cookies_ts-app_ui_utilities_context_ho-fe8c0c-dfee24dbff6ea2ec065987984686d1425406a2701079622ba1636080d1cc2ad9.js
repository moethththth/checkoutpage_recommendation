"use strict";(self.webpackChunk_SK=self.webpackChunk_SK||[]).push([["app_ui_api_utilities_index_ts-app_ui_utilities_browser_cookies_ts-app_ui_utilities_context_ho-fe8c0c"],{"./app/ui/api/utilities/index.ts":function(e,t,n){n.d(t,{Nl:function(){return y},cV:function(){return v},WY:function(){return h},qh:function(){return m}});var o=n("./app/ui/utilities/browser/browser.ts"),i=n("./app/ui/api/utilities/network.ts"),r=n("./app/ui/types/checkout.ts"),a=n("./app/ui/utilities/analytics/sectionEvents/paymentPageEvents.ts"),s=n("./app/ui/utilities/analytics/StatsD.ts");class c{constructor(e){this.startTime=void 0,this.name=void 0,this.startTime=Date.now(),this.name=e}async completeMeasure(e,t){const n=Date.now()-this.startTime;let o={};e&&(o={response_type:(0,i.Dd)(e.status),success:e.ok,request_name:this.name,poll_exceed_retries:!0===(null==t?void 0:t.pollExceedRetries),checkout_version:(null==t?void 0:t.checkoutVersion)??r.gS.Classic}),(0,s.K)(a.vQ,n,o)}}var u=n("./app/ui/api/utilities/ApiFetcher.ts"),p=n("./app/ui/api/utilities/types.ts");class l extends p.V{constructor(e,t,n){super(e,`${t} polling after ${n} attempts`),this.name="ApiPollingTimeoutResponseError"}}class d extends p.V{constructor(e,t,n){super(e,`${t} ${n}`),this.name="ApiRequestResponseError"}}class f extends p.V{constructor(e,t){super(e,`${t} polling`),this.name="ApiPollingResponseError"}}const y=Symbol("cancel_poll"),_=u.a.default;async function h(e,t,n,o,{checkoutVersion:r,pollingOptions:a,requestOptions:s},u){var p;const h=w(t,o,s);let v,R,x;"GET"===t&&delete h.body,u&&(v=new c(u)),R="/"===n[0]&&e?`https://${e}${n}`:n;try{x=await _.fetch(R,h),null!=a&&a.poll&&x.status===i.GL.Accepted&&(x=await async function({timeout:e,exponentialBackoff:t,intervalTimeout:n,callback:o=(()=>{}),performInitialCallback:r=!1},a,s){const{retryAfter:c,maxRetries:u,location:p}=function(e,t=30,n=1,o){const i=e.headers.get("Location");if(o)return{retryAfter:e=>Math.min(o.cap,o.base*2**e),maxRetries:o.maxRetries,location:i};const r=Number(e.headers.get("Retry-After"))||n,a=Math.floor(t/r);return{retryAfter:r,maxRetries:a,location:i}}(a,e,n,t);let d=0,h=a;const v=r?await o(h.clone()):void 0;let R=v===y;for(;!R&&h.status===i.GL.Accepted;){if(d===u)throw new l(h,p,d);const e="function"==typeof c?c(d):c;await m(1e3*e),h=await _.fetch(p,w("GET",null,s)),R=await o(h.clone())===y,d+=1}return g(h,(e=>new f(e,p)))}(a,x,s))}catch(T){var k;if(null!=T&&T.response)null===(k=v)||void 0===k||k.completeMeasure(T.response,{checkoutVersion:r,pollExceedRetries:T.response.status===i.GL.Accepted});throw T}const E=x.headers.get("X-Checkout-Queue-Token");var b;return x.status===i.GL.TooManyRequests&&E?(null===(b=v)||void 0===b||b.completeMeasure(x,{checkoutVersion:r}),x):(null===(p=v)||void 0===p||p.completeMeasure(x,{checkoutVersion:r}),g(x,(e=>new d(e,t,n))))}function m(e,t){return new Promise((n=>setTimeout((()=>n(t)),e)))}function g(e,t){if(e.ok)return e;throw t(e)}function w(e,t,{headers:n,credentials:o,...i}={}){return{...i,method:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n},body:t?JSON.stringify(t):null,credentials:o||"same-origin"}}const v={Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":(0,o.mW)("csrf-token")}},"./app/ui/api/utilities/network.ts":function(e,t,n){function o(e){return e>=100&&e<200?i.Informational:e>=200&&e<300?i.Success:e>=300&&e<400?i.Redirection:e>=400&&e<500?i.ClientError:e>=500&&e<600?i.ServerError:i.Unknown}let i,r;n.d(t,{Dd:function(){return o},GL:function(){return r}}),function(e){e.Informational="1xx",e.Success="2xx",e.Redirection="3xx",e.ClientError="4xx",e.ServerError="5xx",e.Unknown="Unknown"}(i||(i={})),function(e){e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.RequestEntityTooLarge=413]="RequestEntityTooLarge",e[e.RequestUriTooLong=414]="RequestUriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RequestedRangeNotSatisfiable=416]="RequestedRangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported"}(r||(r={}))},"./app/ui/api/utilities/types.ts":function(e,t,n){n.d(t,{V:function(){return o},W:function(){return i}});class o extends Error{constructor(e,t,n){super(`response for ${t} failed (${e.status})${n?`: ${n}`:""}`),this.response=e,this.name="ResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,o)}}class i extends Error{constructor(e){super(`an error response was received with a redirect url: ${e}`),this.redirectUrl=e,this.name="RedirectableResponseError",Error.captureStackTrace&&Error.captureStackTrace(this,i)}}},"./app/ui/types/checkout.ts":function(e,t,n){let o,i,r,a,s;n.d(t,{Yv:function(){return a},af:function(){return o},eW:function(){return i},gS:function(){return s},ng:function(){return r}}),function(e){e.Pending="pending",e.Complete="complete",e.Error="error",e.MissingInfo="missing_info",e.NotApplicable="not_applicable"}(o||(o={})),function(e){e.Interest="interest",e.SplitPay="split_pay",e.ZeroPercent="zero_percent"}(i||(i={})),function(e){e.All="all",e.None="none",e.Interest="interest",e.SplitPay="split_pay"}(r||(r={})),function(e){e.AlreadyApplied="discount_already_applied",e.Invalid="invalid",e.NotApplicable="not_applicable",e.GiftCardAlreadyApplied="gift_card_already_applied",e.GiftCardDepleted="gift_card_depleted"}(a||(a={})),function(e){e.CheckoutOne="checkout_one",e.Classic="classic"}(s||(s={}))},"./app/ui/utilities/analytics/StatsD.ts":function(e,t,n){n.d(t,{K:function(){return a},n:function(){return r}});const o=50;var i;function r(e,t){return s({name:e,type:i.Increment,tags:c(t)})}function a(e,t,n){return s({name:e,type:i.Histogram,value:t,tags:c(n)})}async function s(e){try{const t=function(){if(window.ShopifyPay.Config.isProduction)return"godog.shopifycloud.com";return"godog.myshopify.io"}(),n=JSON.stringify(e);return await function(e,t=o){return new Promise(((n,o)=>{const i=document.createElement("img");i.src=e;let r=!1;const a=setTimeout((()=>{r=!0,n()}),t);i.onload=()=>{r||(r=!0,n(),clearTimeout(a))},i.onerror=()=>{r||(r=!0,o(),clearTimeout(a))},i.onabort=i.onerror}))}(`https://${t}/v1/event.gif?q=${btoa(n)}`)}catch(t){}}function c(e){if(!e)return[];const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(`${n}:${e[n]}`);return t}!function(e){e.Increment="increment",e.Histogram="histogram"}(i||(i={}))},"./app/ui/utilities/analytics/sectionEvents/paymentPageEvents.ts":function(e,t,n){n.d(t,{A6:function(){return f},Ax:function(){return a},ER:function(){return i},J:function(){return u},K7:function(){return l},PL:function(){return y},Tp:function(){return r},Vh:function(){return w},cw:function(){return d},iM:function(){return m},iq:function(){return h},lB:function(){return g},nV:function(){return c},nW:function(){return s},vQ:function(){return _},vf:function(){return p},xp:function(){return o}});const o="shopify_pay_payment_page_checkout_queue/1.0",i="shopify_pay_payment_page_ui_interaction/1.1",r="shopify_pay_payment_page_checkout_as_guest/2.1",a="shopify_pay_payment_page_pay_now/2.2",s="shopify_pay_payment_page_select_shipping_rate/3.1",c="shopify_pay_payment_page_select_shipping_address/1.1",u="shopify_pay_payment_page_select_billing_address/1.1",p="shopify_pay_payment_page_address_sheet_error/1.1",l="pay.payment_page.create_payment",d="pay.payment_page.create_payment_timeout",f="shopify_pay_payment_page_installments/1.2",y="shopify_pay_payment_page_ready/2.2",_="pay.request_time",h="shopify_pay_payment_page_checkout_state/5.1",m="shopify_pay_payment_page_ui_impression/2.0",g="shopify_pay_payment_page_shop_cash_reward_eligibility/3.0",w="shop_pay_installments_eligibility/2.1"},"./app/ui/utilities/browser/cookies.ts":function(e,t,n){function o(e){try{const t=new RegExp(`(${e})=([^;]+)`).exec(document.cookie);return t?t[2]:null}catch(t){return null}}function i(e,t,n,o){const i=o?`path=${o};`:"",r=void 0===n?"":`max-age=${n};`;document.cookie=`${e}=${t}; ${i} ${r}`}n.d(t,{d:function(){return i},e:function(){return o}})},"./app/ui/utilities/context/hooks.ts":function(e,t,n){n.d(t,{U:function(){return r},t:function(){return i}});var o=n("../caches/app/node_modules/react/index.js");class i extends Error{constructor(e,t){super(`${e} must be used within a <${t}>`),this.name="ContextWithoutProviderError"}}function r(e,t,n){const r=(0,o.useContext)(e);if(void 0===r)throw new i(t,n);return r}},"./app/ui/styles/global.scss":function(){}}]);