"use strict";(self.webpackChunk_SK=self.webpackChunk_SK||[]).push([["app_ui_components_CodeInput_CodeInput_tsx-app_ui_components_FlagInput_FlagInput_tsx-app_ui_ut-2430d1"],{"./app/ui/components/CodeInput/CodeInput.tsx":function(e,o,t){t.d(o,{Z:function(){return d}});var n=t("../caches/app/node_modules/react/index.js"),r=t("../caches/app/node_modules/classnames/index.js"),a=t.n(r),c=t("./app/ui/utilities/browser/browser.ts"),u={"background--regular":"#fff","background--text":"#000","background--subdued":"#f9fbfd","background--placeholder":"#f0f2f4","background--primary":"#eeeaff","foreground--regular":"#121314","foreground--secondary":"#666","foreground--contrasting":"#fff","highlights--primary":"#5433eb","highlights--dangerous":"#d92a0f","highlights--primary-hover":"#7b61f0","highlights--dangerous-hover":"#f0452b","highlights--success":"#0b8938","dividers--regular":"#d9d9d9","dividers--inputs":"rgba(0,0,0,0.35)","background--primary-light":"#eeeaff","background--dangerous":"#ffece9","background-success":"#6fd493","notification-text":"rgba(0,0,0,0.7)","notification--dangerous-background":"#ffe6e4","notification--dangerous-border":"#f2dad9","notification--info-background":"#f0f2f4","notification--info-border":"#dfdaef","notification--info-light-background":"#ebe6fc","notification--success-background":"#d3fdf2","notification--success-border":"#c8f0e6","notification--disabled-background":"#fff","notification--disabled-border":"rgba(0,0,0,0.15)","discounts--color":"rgba(0,0,0,0.6)","discounts--background":"rgba(0,0,0,0.15)","discounts--border":"rgba(0,0,0,0)","buttons--primary-background":"#5433eb","buttons--primary-background-hover":"#7f68e9","buttons--secondary-hover":"#bdadfb","buttons--secondary-background":"#ebe6fc","buttons--secondary-background-hover":"#dbd1ff","buttons--secondary-color":"#3f22ab","buttons--secondary-color-hover":"#5433eb","buttons--disabled":"rgba(0,0,0,0.7)","buttons--disabled-background":"rgba(0,0,0,0.35)","buttons--transparent-hover":"#f0f2f4","buttons--transparent-hover-color":"#5433eb","buttons--subdued-background":"#f7f5ff","buttons--secondary-disabled-background":"#f3f3f5","buttons--secondary-disabled-color":"#cbcbca","autocomplete--option":"rgba(0,0,0,0.7)","autocomplete--selected":"rgba(0,0,0,0.03)","autocomplete--footer-background":"rgba(0,0,0,0.03)","autocomplete--footer-text":"#737373","radiobutton--background":"#fff","radiobutton--base-background":"rgba(0,0,0,0.35)","radiobutton--disabled-background":"rgba(0,0,0,0.03)","radiobutton--disabled-shadow":"rgba(0,0,0,0.15)","radiobutton--disabled-checked":"rgba(0,0,0,0.15)","affirm--disabled":"#bababa","affirm--regular":"#5a31f4","affirm--simple":"#000","link--background-hover":"rgba(0,0,0,0.03)","currency-pill--background":"#666","currency-pill--border":"#666","actions--background":"#f0f2f4","actions--background-hover":"#d3d9de","line-loading--background-start":"#c4c4c4","line-loading--background-end":"#dadada","icon--success-fill":"#11efb6","icon--white-stroke":"#fff","icon--tooptip-fill":"#a6a6a6","progress--background":"#ebe6fc","progress--line":"#5433eb","shop-cash--background":"#e4f6eb","shop-cash--foreground":"#004839","shop-promise--logo":"#0f1721","shop-promise--logo--accented":"#5632eb",CodeInputWrapper:"Q8QL3",CodeInput:"sazDE",CodeWrapper:"seGnJ",Code:"nuoKV",completed:"hW2Vl",success:"k6HlD",focusedWithKeyboard:"JepJQ",focused:"jHv2j",active:"ooOTp",error:"B3T1k",Message:"FBnpa",ErrorText:"RKheb"};const i=/^\d*$/,s=6;function d({ariaLabel:e,describedBy:o,error:t,id:r,hasFocus:d=!1,loading:f,success:b,onChange:l,message:g}){const p=(0,n.useRef)(null),h=(0,n.useRef)(!1),[m,k]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[w,C]=(0,n.useState)(d),[x,_]=(0,n.useState)(0);(0,n.useEffect)((()=>{(t||d)&&p.current&&(p.current.focus(),v(!1))}),[p,t,d]),(0,n.useEffect)((()=>{const e=e=>{"Tab"===e.key&&(h.current=!0,window.setTimeout((()=>{h.current=!1}),100))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]),(0,n.useEffect)((()=>{p.current&&p.current.setSelectionRange(x,x)}),[x]);const E=t&&"string"==typeof t,I=Boolean(g)&&!E;return n.createElement("div",{className:a()(u.CodeInputWrapper,y&&u.focusedWithKeyboard,w&&u.focused)},n.createElement("input",{ref:p,type:"text",inputMode:"numeric",id:r,"aria-label":e,"aria-describedby":o,className:u.CodeInput,maxLength:s,value:m,onBlur:()=>{C(!1),v(!1)},onChange:e=>{const{value:o}=e.target;f||i.test(o)&&(l(o,o.length===s),p.current&&o.length===s&&p.current.blur(),k(o))},onFocus:()=>{C(!0),h.current&&v(!0)},onSelect:()=>{var e;_((null===(e=p.current)||void 0===e?void 0:e.selectionEnd)||0)},autoComplete:"one-time-code",autoFocus:!(0,c.s)()}),(()=>{const e=[];for(let o=0;o<s;o++){const r=x<m.length?o===x:o===m.length,c=o<m.length,i=a()(u.Code,r&&u.active,c&&u.completed,t&&u.error,b&&u.success);e.push(n.createElement("div",{key:`code_${o}`,className:i},m.charAt(o)&&m.charAt(o)))}return n.createElement("div",{className:u.CodeWrapper},e)})(),I&&n.createElement("div",{className:u.Message},g),E&&n.createElement("div",{role:"alert",className:u.ErrorText},t))}},"./app/ui/components/FlagInput/FlagInput.tsx":function(e,o,t){t.d(o,{Z:function(){return i}});var n=t("../caches/app/node_modules/react/index.js"),r=t("../caches/app/node_modules/classnames/index.js"),a=t.n(r),c=t("./app/ui/utilities/phone_number_formatter/formatter.ts");var u={"background--regular":"#fff","background--text":"#000","background--subdued":"#f9fbfd","background--placeholder":"#f0f2f4","background--primary":"#eeeaff","foreground--regular":"#121314","foreground--secondary":"#666","foreground--contrasting":"#fff","highlights--primary":"#5433eb","highlights--dangerous":"#d92a0f","highlights--primary-hover":"#7b61f0","highlights--dangerous-hover":"#f0452b","highlights--success":"#0b8938","dividers--regular":"#d9d9d9","dividers--inputs":"rgba(0,0,0,0.35)","background--primary-light":"#eeeaff","background--dangerous":"#ffece9","background-success":"#6fd493","notification-text":"rgba(0,0,0,0.7)","notification--dangerous-background":"#ffe6e4","notification--dangerous-border":"#f2dad9","notification--info-background":"#f0f2f4","notification--info-border":"#dfdaef","notification--info-light-background":"#ebe6fc","notification--success-background":"#d3fdf2","notification--success-border":"#c8f0e6","notification--disabled-background":"#fff","notification--disabled-border":"rgba(0,0,0,0.15)","discounts--color":"rgba(0,0,0,0.6)","discounts--background":"rgba(0,0,0,0.15)","discounts--border":"rgba(0,0,0,0)","buttons--primary-background":"#5433eb","buttons--primary-background-hover":"#7f68e9","buttons--secondary-hover":"#bdadfb","buttons--secondary-background":"#ebe6fc","buttons--secondary-background-hover":"#dbd1ff","buttons--secondary-color":"#3f22ab","buttons--secondary-color-hover":"#5433eb","buttons--disabled":"rgba(0,0,0,0.7)","buttons--disabled-background":"rgba(0,0,0,0.35)","buttons--transparent-hover":"#f0f2f4","buttons--transparent-hover-color":"#5433eb","buttons--subdued-background":"#f7f5ff","buttons--secondary-disabled-background":"#f3f3f5","buttons--secondary-disabled-color":"#cbcbca","autocomplete--option":"rgba(0,0,0,0.7)","autocomplete--selected":"rgba(0,0,0,0.03)","autocomplete--footer-background":"rgba(0,0,0,0.03)","autocomplete--footer-text":"#737373","radiobutton--background":"#fff","radiobutton--base-background":"rgba(0,0,0,0.35)","radiobutton--disabled-background":"rgba(0,0,0,0.03)","radiobutton--disabled-shadow":"rgba(0,0,0,0.15)","radiobutton--disabled-checked":"rgba(0,0,0,0.15)","affirm--disabled":"#bababa","affirm--regular":"#5a31f4","affirm--simple":"#000","link--background-hover":"rgba(0,0,0,0.03)","currency-pill--background":"#666","currency-pill--border":"#666","actions--background":"#f0f2f4","actions--background-hover":"#d3d9de","line-loading--background-start":"#c4c4c4","line-loading--background-end":"#dadada","icon--success-fill":"#11efb6","icon--white-stroke":"#fff","icon--tooptip-fill":"#a6a6a6","progress--background":"#ebe6fc","progress--line":"#5433eb","shop-cash--background":"#e4f6eb","shop-cash--foreground":"#004839","shop-promise--logo":"#0f1721","shop-promise--logo--accented":"#5632eb",FlagWrapper:"c5v94",FlagSelector:"BAbRq",FlagIcon:"RpuWA",Fallback:"UJGz8",FlagSelect:"VzdoB"};function i({countries:e,geolocatedCountryCode:o,phoneNumber:t,onChange:r,phoneLib:i}){const[s,d]=(0,n.useState)(o),f=(0,n.useMemo)((()=>function(e){return Object.values(e).map((e=>{const o=function(e){return{label:`${e.label} (${e.phone_number_prefix})`,key:e.code}}(e);return n.createElement("option",{key:o.key,value:o.key},o.label)}))}(e)),[e]);(0,n.useEffect)((()=>{d((e=>(0,c.vl)(t,e,i)||e))}),[t,i]);const b=window.supportsEmoji?function(e){const o=127397;return String.fromCodePoint(...[...e].map((e=>e.charCodeAt(0)+o)))}(s):s;return n.createElement("div",{className:u.FlagWrapper,"data-testid":"flag-wrapper"},n.createElement("div",{className:a()(u.FlagSelector,window.supportsEmoji?u.FlagIcon:u.Fallback)},b),n.createElement("select",{className:u.FlagSelect,name:"dropdownCountries",onChange:function(e){const{value:o}=e.target;r(s,o),d(o)},value:s,"data-testid":"dropdown-countries"},f))}window.supportsEmoji=function(){if("undefined"==typeof window)return!1;const e=window.document.createElement("canvas").getContext("2d");if(!e)return!1;const o=12*(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("üê®",0,0);const t=0!==e.getImageData(o,o,1,1).data[0],n="function"==typeof String.fromCodePoint;return t&&n}()},"./app/ui/utilities/phone_number_formatter/formatter.ts":function(e,o,t){t.d(o,{I$:function(){return a},WU:function(){return s},Z8:function(){return c},oP:function(){return u},pQ:function(){return f},vl:function(){return d}});const n=/[()\-. ]+/g,r="ZZ";function a(e,o,t){const n=new RegExp(`^\\+?${o} ?`);let r;return r=e.match(n)?e.replace(n,`+${t} `):`+${t} ${e}`,r}function c(e,o,t){let r=i(o.slice(0,e)),a=0;for(const c of t){if(!r&&-1===c.search(n))break;c===r[0]&&(r=r.substring(1)),a++}return a}function u(e,o){return o.length<e.length&&i(o).length===i(e).length}function i(e){return e.replace(n,"")}function s(e,o,t){if(!o)return e;try{const r=o.PhoneNumberUtil.getInstance(),a=function(e,o,t){if(!t)return"";try{const n=t.PhoneNumberUtil.getInstance(),r=n.parse(e,o);return n.format(r,t.PhoneNumberFormat.INTERNATIONAL)}catch(n){return""}}(e,t,o);if(a)return a;const c=l(e,r);if(!c)return e;const u=b(c,r),i=new o.AsYouTypeFormatter(t||u);let s;for(const o of e.replace(n,""))s=i.inputDigit(o);return s?s.trim():""}catch(r){return e}}function d(e,o,t){if(!t||0===function(e){return e.replace(/\D/g,"")}(e).length)return"";if(!e.startsWith("+"))return o;try{const n=t.PhoneNumberUtil.getInstance(),a=f(o,t),c=l(e,n);if(!c)return"";const u=b(c,n),i=function(e,o,t){try{const n=function(e,o,t){try{const n=t.parseAndKeepRawInput(e,o).getNationalNumber();return n?n.toString():""}catch(n){return""}}(e,o,t),r=t.parseAndKeepRawInput(n,o);return t.getRegionCodeForNumber(r)||""}catch(n){return""}}(e,u,n);return i||(c!==a&&u!==r?u:o)}catch(n){return""}}function f(e,o){if(!o)return 0;try{return o.PhoneNumberUtil.getInstance().getCountryCodeForRegion(e)}catch(t){return 0}}function b(e,o){try{return o.getRegionCodeForCountryCode(e)}catch(t){return""}}function l(e,o){try{return o.parse(e).getCountryCode()||0}catch(t){return parseInt(e.split(" ")[0].replace(/\D/,""),10)}}},"./app/ui/utilities/phone_number_formatter/usePhoneNumberLib.ts":function(e,o,t){t.d(o,{X:function(){return r}});var n=t("../caches/app/node_modules/react/index.js");function r(){const[e,o]=(0,n.useState)(null);return(0,n.useEffect)((()=>{async function e(){try{const e=await t.e("GoogleLibPhoneNumber").then(t.t.bind(t,"../caches/app/node_modules/google-libphonenumber/dist/libphonenumber.js",23));o(e)}catch(e){}}window.onload=()=>e(),"complete"===document.readyState&&e()}),[]),e}}}]);