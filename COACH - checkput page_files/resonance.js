//resxclsx.js v5.12 Copyright 2004-2023 Certona Corporation www.certona.com. All rights reserved.
//www.coach.com
var certonaResx=function(){"use strict";var a,o="certonaResx.showResponse",l="",u,d,x=false,p,h,g,m,y,v,k,R;function s(e){try{return parseInt(e,10)}catch(e){}}function w(e){try{var r;if(e!==undefined&&e!==null&&e!=="null"&&e!==""){r=true;return r}}catch(e){}return false}function f(){try{return resx.rrelem}catch(e){}return""}function c(e){try{var r=null,n,t;if(w(e)){r=[];if(w(document.getElementById(e))){r[0]=e}else{t=e.replace(/[,;]/g,".").split(".");for(n=0;n<t.length;n+=1){if(t[n]!==""&&w(document.getElementById(t[n]))){r[n]=t[n]}else{r[n]=""}}}}return r}catch(e){}return null}function b(){try{var e,r,n;if(resx.rrelem!==undefined){n=c(f());if(n!==undefined&&n!==null){for(e=0;e<n.length;e+=1){if(n[e]!==""){r=document.getElementById(n[e])}else{r=null}if(w(r)){r.style.visibility="visible"}}}}}catch(e){}}function C(e,r){try{if(!x){x=true;l=e+"|"+(r.number!==undefined?r.number:"undefined")+"|"+(r.name!==undefined?r.name:"undefined")+"|"+(r.description!==undefined?r.description:"undefined")}}catch(e){}finally{b()}}function I(e){try{var r,n,t;if(document.cookie.length>0){r=document.cookie;n=r.indexOf(e+"=");if(n!==-1){n+=e.length+1;t=r.indexOf(";",n);if(t===-1){t=r.length}return decodeURIComponent(r.slice(n,t))}}}catch(e){C("",e)}return null}function L(e,r,n,t){try{var i=new Date;if(n!==null){i.setTime(i.getTime()+n*3600*1e3)}document.cookie=e+"="+encodeURIComponent(r)+(n!==null?"; expires="+i.toGMTString():"")+"; path=/"+(w(t)?"; domain="+t:"")+"; secure"}catch(e){C("",e)}}function T(){try{var e,r,n,t,i;r=resx.rrec!==undefined&&(resx.rrec===true||resx.rrec==="true")&&(y==="1"||p)&&w(resx.rrelem)&&!x;if(r){if(!d){r=false;i=c(f());if(i!==undefined&&i!==null){for(e=0;e<i.length;e+=1){if(w(i[e])){r=true;break}}}}if(r){if(!w(resx.useitems)){r=false;if(resx.rrnum!==undefined){n=resx.rrnum;n+="";n=n.replace(/,/g,";");t=n.split(";");for(e=0;e<t.length;e+=1){if(!isNaN(t[e])&&s(t[e])>0){r=true;break}}}}}}return r}catch(e){}return false}function B(e){try{var r,n="";e+="";for(r=e.length-1;r>=0;r-=1){n+=e.charAt(r)}return n}catch(e){}return""}function E(){try{var e,r,n,t,i;if(navigator.userAgent.toLowerCase().indexOf("mac")===-1){i=Math.floor(Math.random()*1e15);i+=""}else{n=Math.floor(Math.random()*1e6);e=new Date;r=e.getTime();r+="";t=B(r);n+="";i=n+t.slice(0,11)}return i}catch(e){C("guid",e)}return""}function r(e){try{u=true;var r,n,t,i;if(!d){for(r=0;r<e.Resonance.Response.length;r+=1){n=false;t=e.Resonance.Response[r].scheme;if(e.Resonance.Response[r].display==="yes"){n=true;i=document.getElementById(t);if(w(i)){i.innerHTML=e.Resonance.Response[r].output}}if(typeof resonanceResponseLoaded==="function"){resonanceResponseLoaded(t,n)}}if(typeof resonanceResponseLoadedAll==="function"){resonanceResponseLoadedAll()}}}catch(e){}finally{b()}}function e(){try{if(!u&&!d){if(a<2e3){a=a+10;window.setTimeout(certonaResx.checkCallback,10)}else{d=true;b()}}}catch(e){b()}}function S(e){try{var r,n="",t="",i,s,c;s="";if(w(resx.rrelem)){i=f().replace(/[,;]/g,".").split(".");if(i!==null){for(r=0;r<i.length;r+=1){s+="&sc="+i[r]}}}if(typeof e==="boolean"&&e===true){if(w(resx.rrcall)){n=resx.rrcall}else{n=o}}else if(typeof e==="string"){n=e}if(n.length>0){if(n===o){t="&cb="}else{t="&ccb="}t+=n}c=s+(w(resx.useitems)?"&ui="+resx.useitems:"&no="+resx.rrnum)+(w(resx.rrqs)?"&"+resx.rrqs:"")+(w(resx.rrnav)?"&nav="+resx.rrnav:"")+(w(resx.exitemid)?"&ex="+resx.exitemid:"")+t;return c}catch(e){}return""}function U(){try{var e,r,n=window.location.hostname;if(w(n)){if(!n.match(/(\d{1,3}\.){3}\d{1,3}/)){e=n.split(".");if(e.length>1){n="."+e[e.length-2]+"."+e[e.length-1];r=/\.co\.\w{2}$|\.com\.\w{2}$|\.\w{2}\.com$/;if(n.toLowerCase().match(r)&&e.length>2){n="."+e[e.length-3]+n}}}return n}}catch(e){C("gsd",e)}return null}function M(){try{var e,r="",n;for(e=0;e<51;e+=1){if(resx["cv"+e]!==undefined){n=resx["cv"+e];n+="";n=n.replace(/\+/g,"%2B");r+="&cv"+e+"="+encodeURIComponent(n)}}return r}catch(e){C("gcv",e)}return""}function n(e){try{var r={callback:false},n,t,i,s,c,f;if(e===undefined){e=r}else{for(s=0;s<r.length;s+=1){if(e[s]===undefined){e[s]=r[s]}}}x=false;l="";v="";k=-1;R=false;y="";g="";m="";p=false;h=false;u=false;d=false;a=0;n=U();c="RES_TRACKINGID";f=false;if(w(resx.dnt)){if(resx.dnt===0){if(w(resx.trackingid)){v=String(resx.trackingid)}f=true;k=0}if(resx.dnt===1){if(w(resx.trackingid)){v=String(resx.trackingid)}else{v="000000000000000"}f=true;k=1}if(!w(v)){f=false;k=-1;R=true}}if(!f){if(w(resx.trackingid)){v=String(resx.trackingid)}else{v=I(c)}if(!w(v)){v=E()}}y=w(resx.segment)?String(resx.segment):"";if(!w(y)){y="1"}else{p=true}if(!R){if(!f){if(v.length>0){L(c,v,9490,n);if(!w(I(c))){L(c,v,null,n)}}}else{L(c,v,-1,n)}}if(w(resx.pageid)){g=resx.pageid}else{g=E()}t=resx.links!==undefined?String(resx.links):"";if(w(t)){i=t.replace(/\,/g,";").replace(/\|/g,"%7C").split(";",50);for(s=0;s<i.length;s+=1){m+=i[s]+";"}}if(typeof e.callback==="string"&&e.callback!==o||e.callback===false||w(resx.rrcall)&&resx.rrcall!==o){d=true}h=T()&&w(v)&&w(g);if(!h){b()}}catch(e){C("pv",e)}}function t(e){try{var r,n,t,i,s,c,f="5.12x";if((y==="1"||p)&&!R){if(h){window.setTimeout(certonaResx.checkCallback,50)}r=window.location.protocol.toLowerCase()==="https:"?"https://":"http://";i="www.res-x.com";if(w(resx.host)){i=resx.host}s=window.location.href.slice(0,400);if(w(resx.href)){s=resx.href}c=document.referrer;if(w(resx.referrer)){c=resx.referrer}n="appid="+(resx.appid!==undefined?resx.appid:"")+"&tk="+(w(v)?v:"")+"&pg="+(w(g)?g:"")+"&sg="+(w(y)?y:"");n+=(resx.event!==undefined?"&ev="+resx.event:"")+(resx.itemid!==undefined?"&ei="+resx.itemid:"")+(resx.qty!==undefined?"&qty="+resx.qty:"")+(resx.price!==undefined?"&pr="+resx.price:"")+(resx.shipping!==undefined?"&sh="+resx.shipping:"")+(resx.total!==undefined?"&tt="+resx.total:"")+(resx.currencycode!==undefined?"&cc="+resx.currencycode:"")+(w(resx.customerid)&&!(k===0||k===1)?"&cu="+resx.customerid:"")+(resx.transactionid!==undefined?"&tr="+resx.transactionid:"")+(resx.keyword!==undefined?"&kwd="+resx.keyword:"")+M()+(w(m)?"&plk="+m:"");n+=k===0||k===1?"&dnt="+k:"";n+="&bx="+h+(h?S(e):"");n+="&vr="+f+"&url="+encodeURIComponent(s)+"&ref="+encodeURIComponent(c)+(x===true?"&er="+x+"&em="+encodeURIComponent(l):"");t=r+i+"/ws/r2/Resonance.aspx"+"?"+n;return t.slice(0,2013)}}catch(e){}return""}function i(e){try{if(e!==""){var r=document.createElement("script"),n=document.getElementsByTagName("script")[0];r.type="text/javascript";r.async=true;r.src=e;n.parentNode.insertBefore(r,n)}}catch(e){}}function q(e){var r={callback:false},n;if(e===undefined){e=r}else{for(n=0;n<r.length;n+=1){if(e[n]===undefined){e[n]=r[n]}}}return t(e.callback)}function A(){n({callback:true});var e=t(true);i(e)}return{checkCallback:function(){e()},showResponse:function(e){r(e)},getURL:function(e){n(e);return q(e)},run:function(){A()}}}();
(function(e){"use strict";var t={ca:{desktop:"coachca01",mobile:"coachca02",default:"coachca01"},us:{desktop:"coachus01",mobile:"coachus02",default:"coachus01"}};var c={ca:{home:{desktop:"home1_rr",mobile:"home1_rr"},product:{desktop:"product1_rr;product2_rr",mobile:"product1_rr;product2_rr"},cart:{desktop:"cart1_rr",mobile:"cart1_rr"},nosearch:{desktop:"nosearch1_rr;nosearch2_rr",mobile:"nosearch1_rr;nosearch2_rr"},error:{desktop:"error1_rr",mobile:"error1_rr"},account:{desktop:"account_rr",mobile:"account_rr"},searchrv:{desktop:"searchrv1_rr",mobile:"searchrv1_rr"},searchtype:{desktop:"searchtype1_rr",mobile:"searchtype1_rr"},emptycart:{desktop:"emptycart_rr",mobile:"emptycart_rr"},purchase:{desktop:"purchase_rr",mobile:"purchase_rr"},search:{desktop:"search1_rr",mobile:"search1_rr"},wishlist:{desktop:"wishlist_rr",mobile:"wishlist_rr"},orderhistory:{desktop:"orderhistory_rr",mobile:"orderhistory_rr"},exclusiveoffers:{desktop:"offers_rr",mobile:"offers_rr"}},us:{home:{desktop:"home1_rr",mobile:"home1_rr"},product:{desktop:"product1_rr;product2_rr",mobile:"product1_rr;product2_rr"},cart:{desktop:"cart1_rr",mobile:"cart1_rr"},nosearch:{desktop:"nosearch1_rr;nosearch2_rr",mobile:"nosearch1_rr;nosearch2_rr"},error:{desktop:"error1_rr",mobile:"error1_rr"},account:{desktop:"account_rr",mobile:"account_rr"},searchrv:{desktop:"searchrv1_rr",mobile:"searchrv1_rr"},searchtype:{desktop:"searchtype1_rr",mobile:"searchtype1_rr"},emptycart:{desktop:"emptycart_rr",mobile:"emptycart_rr"},purchase:{desktop:"purchase_rr",mobile:"purchase_rr"},search:{desktop:"search1_rr",mobile:"search1_rr"},wishlist:{desktop:"wishlist_rr",mobile:"wishlist_rr"},orderhistory:{desktop:"orderhistory_rr",mobile:"orderhistory_rr"},exclusiveoffers:{desktop:"offers_rr",mobile:"offers_rr"},productlisting:{desktop:"productlisting1_rr;productlisting2_rr;productlisting3_rr",mobile:"productlisting1_rr;productlisting2_rr;productlisting3_rr"},addtocart:{desktop:"addtobag_rr",mobile:"addtobag_rr"},justforyou:{desktop:"justforyou_rr;justforyou2_rr",mobile:"justforyou_rr;justforyou2_rr"},holiday:{desktop:"holiday1_rr;holiday2_rr;holiday3_rr",mobile:"holiday1_rr;holiday2_rr;holiday3_rr"}}};window.callCertona=function(){try{window.resx={appid:t[n(d("country"))][n(d("devicetype"))]||t[n(d("country"))]["default"],rrec:false,rrnum:40,itemid:"",event:"",rrelem:null};if(certona.p3recommendations!==undefined&&certona.p3recommendations===true){c.ca.product.desktop="product3_rr;product1_rr;product2_rr";c.ca.product.mobile="product3_rr;product1_rr;product2_rr";c.us.product.desktop="product3_rr;product1_rr;product2_rr";c.us.product.mobile="product3_rr;product1_rr;product2_rr"}if(certona.cart2!==undefined&&certona.cart2===true){c.us.cart.desktop="cart2_rr;cart1_rr";c.us.cart.mobile="cart2_rr;cart1_rr"}var r=n(d("pagetype"));switch(r){case"product":o({event:"product",itemid:d("itemid")});break;case"cart":o({event:"viewcart",itemid:d("itemid")});resx.customerid=d("customerid");break;case"emptycart":case"account":resx.customerid=d("customerid");break;case"wishlist":o({event:"wishlist",itemid:d("itemid")});resx.customerid=d("customerid");break;case"purchase":o({event:"purchase",itemid:d("itemid")});resx.customerid=d("customerid");resx.transactionid=d("transactionid");resx.qty=d("qty");resx.price=d("price");resx.total=d("total");break;case"searchtype":o({event:"",itemid:d("itemid")});break;case"productlisting":o({event:"",itemid:d("itemid")});break;case"justforyou":resx.customerid=d("customerid");break;case"addtocart":o({event:"addtocart_op",itemid:d("itemid")});break;case"cartremove":o({event:"cartremove_op",itemid:d("itemid")});break;case"addtowishlist":o({event:"wishlistadd_op",itemid:d("itemid")});break;case"wishlistremove":o({event:"wishlistremove_op",itemid:d("itemid")});break;case"quickview":o({event:"quickview_op",itemid:d("itemid")});break;default:break}i({pageType:r,isRec:d("recommendations"),rrnav:true});e.run()}catch(r){}};function o(r){try{var e=RegExp(".*_op");var t=e.test(r.event);if(location.href.indexOf("rrec=true")>=0&&!t){resx.event=r.event+"_r"}else{resx.event=r.event}resx.itemid=r.itemid}catch(r){}}function i(r){try{if(!r.isRec===true){window.resx.rrec=false;window.resx.rrelem=null;window.resx.rrcall=null;window.resx.exitemid=null;window.resx.rrqs=null;return}resx.rrec=!!r.isRec;resx.rrcall=d("callback")||"certonaRecommendations";var e=n(d("country"));var t=n(d("devicetype"));var o=r.pageType;resx.rrelem=null;if(c[e]!==undefined&&c[e][o]!==undefined&&c[e][o][t]!==undefined){resx.rrelem=c[e][o][t]}else if(c[o]!==undefined&&c[o][t]!==undefined){resx.rrelem=c[o][t]}else if(c[o]!==undefined){resx.rrelem=c[o]}r.rrnav===true||r.rrnav==="true"?d("filter")&&a():d("filter")&&s();resx.exitemid=d("exitemid")||""}catch(r){}}function s(){try{var o=certona.filter;var c="";Object.keys(o).forEach(function(r,e){var t=e!==0?"&":"";c+=t+r+"="+encodeURIComponent(o[r])});resx.rrqs=c}catch(r){}}function a(){try{var r=certona.filter;var t="";var o="";Object.keys(r).forEach(function(e){if(Array.isArray(r[e])||typeof r[e]==="string"){o=Array.isArray(r[e])?r[e]:r[e].split(";");o.forEach(function(r){try{t+=e+"="+encodeURIComponent(r)+";"}catch(r){}})}else{t+=e+"="+encodeURIComponent(r[e])+";"}});t=t.replace(/;$/g,"");resx.rrnav=t}catch(r){}}function d(r,e){try{var t=e!==undefined?e:"";if(typeof certona!=="undefined"&&Object.prototype.toString.call(certona)==="[object Object]"){return certona[r]||t}}catch(r){}}function n(r){try{return typeof r!==undefined&&Object.prototype.toString.call(r)==="[object String]"?r.toLowerCase():r}catch(r){}}})(certonaResx);
